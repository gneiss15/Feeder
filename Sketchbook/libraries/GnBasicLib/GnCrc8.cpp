//****************************************************************
// Includes
//****************************************************************

#include <GnCrc8.h>

//****************************************************************
// Sw Configuration
//****************************************************************

//****************************************************************
// TGnCrc8
//****************************************************************

void TGnCrc8::Add( uint8_t value )
 {
  FCrc ^= value;
  for( uint8_t i = 8;  i;  --i ) 
   {
    if( FCrc & 0x80 )
     {
      FCrc <<= 1;
      FCrc ^= GnCrc8_Polynome;
     }
     else
      FCrc <<= 1;
   }
 }

void TGnCrc8::Add( uint8_t * p, uint32_t cnt )
 {
  while( cnt-- )
    Add( *p++ );
 }
 
uint8_t TGnCrc8::Calc( uint8_t * p, uint32_t cnt )
 {
  FCrc = 0;
  while( cnt-- )
    Add( *p++ );
  return FCrc;
 }

